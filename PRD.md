# PRD: 미술 감상·관찰·프롬프트 생성 웹앱

## 1. 목적 및 배경
- 목적: 학생이 명화를 감상하고 관찰 포인트를 구조화하여 기록한 뒤, 기록을 바탕으로 이미지 생성 도구에 사용할 프롬프트를 생성·복사할 수 있게 하는 경량 웹앱(수업 활동 1–3 단계 지원).
- 배경: 에듀테크 페어/수업 현장에서 빠르게 실행 가능한 정적 웹앱 템플릿 제공. 4–6단계(외부 이미지 생성, 원본 비교, 발표)는 본 앱 범위에서 제외하고 안내만 제공.

## 2. 사용자 및 이해관계자
- 학생(초·중등): 작품 선택·감상, 관찰 기록, 프롬프트 생성/복사.
- 교사: 활동 안내, 작품 카탈로그/관찰 항목 템플릿 제공, 결과 공유 방법 안내.
- 관리자(선택): 배포, 접근성/정책 준수 검토.

## 3. 범위(Scope)
- 포함:
  - 단계형 UI: ① 작품 선택·감상 → ② 관찰 기록 → ③ 프롬프트 생성/복사
  - 작품 카탈로그(로컬 JSON) 로드/검색/필터, 썸네일 및 상세 보기(모달)
  - 관찰 템플릿: 색채, 형태/질감, 구도/시점, 소재/상징, 분위기/감정, 기타 메모
  - 프롬프트 빌더: 관찰값 자동 결합, 도구별 형식 프리셋(예: 일반형/세부지시 강화형)
  - 내보내기: 클립보드 복사, .txt 다운로드
  - 자동 임시저장(LocalStorage) 및 수동 초기화
  - (선택) 입력칸 보조 정책: 붙여넣기/우클릭/드롭 차단, 안내 메시지
- 제외(초기):
  - 계정/로그인, 서버 저장, 실시간 협업
  - 외부 이미지 생성 API 호출(앱 내부 트리거 없음, 사용 안내만)
  - AI 피드백/리뷰, PDF 생성/인쇄

## 4. 핵심 요구사항(Functional Requirements)
1) 작품 감상
   - 작품 목록 로드(로컬 `public/data/artworks.json`), 제목/작가/연도/태그 표시
   - 검색/필터(제목, 작가, 태그), 페이지네이션 또는 무한스크롤(단순 로드)
   - 썸네일 그리드, 클릭 시 전체 보기(모달) + 메타데이터/저작권 출처 표시
2) 관찰 기록
   - 텍스트 입력 필드: 색채, 형태/질감, 구도/시점, 소재/상징, 분위기/감정, 기타
   - 최소 입력 검증: 핵심 3개 항목 이상 채움 시 3단계 활성화
   - (선택) 입력칸 보조 정책 적용 범위 및 해제 토글 제공
   - 자동 임시저장(LocalStorage), 재방문 시 복원/초기화 버튼
3) 프롬프트 생성
   - 프리셋 드롭다운(일반형/세부지시 강화형 등) + 선택 항목 조합 미리보기
   - 생성된 프롬프트를 클립보드 복사 또는 .txt로 다운로드
   - 외부 도구 사용 안내(새 탭 링크 또는 안내 모달)
4) 내보내기/공유(경량)
   - 복사 성공 토스트, 다운로드 파일명: `prompt-작품제목-이름-날짜.txt`
5) 데이터/자원
   - 정적 자원: `public/index.html`, `public/main.js`, `public/styles.css`, `public/data/artworks.json`
   - 이미지 경로: 공용 도메인 이미지를 직접 링크하거나 `public/images/`에 배포

## 5. 비기능 요구사항(Non-Functional)
- 성능: 정적 호스팅(오프라인 캐시 선택), 저사양에서도 즉시 반응
- 접근성: 키보드 내비게이션/포커스 스타일, 대비/폰트 가독성, 안내 텍스트 제공
- 호환성: 최신 크롬/엣지/사파리, 모바일 브라우저 대응(반응형 그리드, 입력 영역)
- 보안/프라이버시: 서버 저장 없음, 개인정보 필드 수집 안 함(LocalStorage만 사용)

## 6. 성공 지표(Success Metrics)
- 단계 완료율: 1→2→3 전환 비율
- 관찰 항목 충족률(핵심 3항목 이상 채움 사용자 비율)
- 프롬프트 복사/다운로드 실행률

## 7. 사용자 흐름(User Flow)
1) 앱 열기 → 2) 작품 선택·감상(상세/전체보기) → 3) 관찰 템플릿 채우기 → 4) 프리셋 선택 및 프롬프트 미리보기 → 5) 복사/다운로드 → 6) 외부 이미지 생성 도구 사용(앱 밖) → 7) 수업에서 원본과 비교·발표(앱 밖)

## 8. UI/UX 요구사항
- 단계 스텝퍼(3단계)와 현재 단계 강조
- 작품 그리드 카드: 썸네일, 제목, 작가, 연도, 태그 배지
- 상세 모달: 큰 이미지, 메타정보, 저작권/출처, 닫기/다음/이전
- 관찰 입력: 2칼럼(모바일 1칼럼), 필드별 라벨/도움말, 최소 충족 가시화
- 프롬프트 빌더: 프리셋 선택, 토큰 하이라이트 미리보기, 복사/다운로드 버튼 상태
- 상태 표시: 로딩 스켈레톤, 비활성/활성/완료 토스트

## 9. 기술 스택 및 아키텍처
- 프런트: HTML, Tailwind CSS(CDN), 바닐라 JS
- 데이터: 정적 JSON(`public/data/artworks.json`), 이미지 정적 자원
- 상태: LocalStorage(임시 저장), 이벤트 기반 렌더링
- 배포: 정적 호스팅(예: GitHub Pages, Vercel Static, Netlify)

## 10. 구성/환경 변수
- (선택) 기본 프리셋: `DEFAULT_PROMPT_PRESET=general`
- (선택) 카탈로그 기본 필터: `DEFAULT_TAG=`

## 11. 정책/준수사항
- 저작권: 이미지 출처와 라이선스 명시. 교육 목적 사용 고지 및 비상업적 이용.
- 접근성: 입력칸 보조 정책(붙여넣기/우클릭/드롭 차단) 사용 시 안내 및 해제 제공.
- 프라이버시: 서버 전송 없음, LocalStorage 초기화 안내 제공.

## 12. 로깅/모니터링(선택)
- 단순 사용 이벤트(단계 전환, 복사/다운로드) 익명 수집 가능(추후 스펙)
- 콘솔 오류 점검, 정적 호스팅 제공 로그 활용

## 13. 릴리즈 체크리스트
- [ ] 작품 카탈로그(JSON) 로드/검색/필터 및 상세 모달 동작
- [ ] 관찰 템플릿 입력 및 최소 충족 검증, 임시저장/초기화 확인
- [ ] 프롬프트 프리셋/조합 미리보기, 복사/다운로드 동작
- [ ] 모바일 레이아웃(1칼럼), 데스크톱(2~3칼럼) 반응형 확인
- [ ] 입력칸 보조 정책 적용/해제 및 안내 표시
- [ ] 저작권/출처 표시 정확성 및 이미지 로딩 실패 대체 UI

## 14. 데이터 모델
- `Artwork`
  - `id`: string
  - `title`: string
  - `artist`: string
  - `year`: string
  - `imageUrl`: string
  - `tags`: string[] (예: 인상주의, 풍경, 인물 등)
  - `source`: { `name`: string, `url`: string, `license`: string }
- `Observation`
  - `color`: string
  - `formTexture`: string
  - `composition`: string
  - `motifSymbol`: string
  - `moodEmotion`: string
  - `notes`: string
- `PromptPreset`
  - `id`: `general` | `detailed`
  - `label`: string
  - `template`: string (예: "[작품/주제 핵심] with [색채], [형태/질감], [구도/시점], [분위기], ...")

